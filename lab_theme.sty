% presentation format for the lab
\ProvidesPackage{lab_theme}

\usepackage{graphicx}
\usepackage{tikz}
\usepackage{fancyhdr}
\usepackage[export]{adjustbox}

%colour is uoft blue (#1E3765)
\definecolor{uoftblue}{RGB}{30,55,101}

%title page settings

% title graphic in the background
% 3 logos at the end
\newcommand{\settitlepage}[4]{
    \setbeamertemplate{title page}{
        \begin{tikzpicture}[remember picture,overlay]
            \node[inner sep=0pt, opacity=0.3, at=(current page.center)] {\includegraphics[width=\paperwidth,height=\paperheight]{#1}};
        \end{tikzpicture}
        % Place the title, subtitle, author, and date on top of the background
        \begin{centering}
            \usebeamerfont{title}\usebeamercolor[fg]{title}\color{uoftblue}\inserttitle\par
            \usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\color{uoftblue}\insertsubtitle\par
            \vskip1em\par
            \usebeamerfont{author}\usebeamercolor[fg]{author}\color{uoftblue}\insertauthor\par
            \usebeamerfont{institute}\usebeamercolor[fg]{institute}\color{uoftblue}\insertinstitute\par
            \usebeamerfont{date}\usebeamercolor[fg]{date}\color{uoftblue}\insertdate\par
            \vskip1em\par
            \includegraphics[width=2.5cm]{#2}\hfill
            \includegraphics[width=2.5cm]{#3}\hfill
            \includegraphics[width=2.5cm]{#4}
        \end{centering}
    }
}


% main page settings

% set main text colour to uoft blue
\setbeamercolor{frametitle}{fg=uoftblue}
\setbeamercolor{title}{fg=uoftblue}

% set footer
\newcommand{\setfooter}[2]{
    \setbeamertemplate{footline}{
        \begin{tikzpicture}[remember picture,overlay]
            \fill[uoftblue] (current page.south west) rectangle ([yshift=1.25cm]current page.south east); 
            \node[anchor=south west, inner sep=0pt, xshift=0.2cm] at ([yshift=0.25cm]current page.south west) {\includegraphics[width=2.75cm]{#1}};
            \node[anchor=south, inner sep=0pt, text=white, font=\small] at ([yshift=0.45cm]current page.south) {#2};
            \node[anchor=south east, inner sep=0pt, text=white, font=\small] at ([yshift=0.35cm]current page.south east) {\insertframenumber/\inserttotalframenumber};
        \end{tikzpicture}
    }
}

% acknowlegment slide
\newcommand{\acknowledgementslide}[2]{
    \begin{frame}
        \frametitle{Thank you!}
        \begin{columns}
        \begin{column}{0.5\textwidth}
            \includegraphics[width=\textwidth]{#1}
        \end{column}
        \begin{column}{0.5\textwidth}
            % Right side: Insert your text here
            #2
        \end{column}
        \end{columns}
    \end{frame}
}

